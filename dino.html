<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Dino Quiz - Start Page</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@600&family=Roboto:wght@500&display=swap" rel="stylesheet">

    <style>
        /* CSS STYLING: Prehistoric Jungle Theme */
        body {
            /* Guaranteed Jungle Gradient Background */
            background: linear-gradient(135deg, #1A521A 0%, #4B5320 50%, #7C986C 100%);
            background-attachment: fixed;
            
            font-family: 'Roboto', sans-serif; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
        }
        .quiz-container {
            /* RUSTIC QUIZ BOX */
            background-color: rgba(255, 255, 255, 0.95); 
            padding: 30px;
            border-radius: 15px;
            border: 4px solid #3CB371; 
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 500px;
            text-align: center;
        }
        h1 {
            color: #228B22; 
            font-family: 'Caveat', cursive; 
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 3px dashed #3CB371; 
            padding-bottom: 10px;
        }
        #question-counter {
            font-size: 0.9em;
            color: #7C986C;
            margin-bottom: 10px;
            font-weight: bold;
        }
        #question-text {
            font-size: 1.3em;
            margin-bottom: 25px;
            color: #4B5320; 
            font-weight: bold;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px; 
        }
        .option-btn {
            background-color: #ADD8E6; 
            color: #1e1e1e;
            border: 2px solid #228B22; 
            padding: 12px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #3CB371;
            color: white;
            transform: scale(1.02);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* Feedback Colors & Selected Answer */
        .selected {
            background-color: #008080 !important; /* Teal for selected */
            color: white !important;
            border-color: #004d4d !important;
        }
        .correct {
            background-color: #32CD32 !important; 
            color: white !important;
            border-color: #006400 !important;
        }
        .incorrect {
            background-color: #DC143C !important; 
            color: white !important;
            border-color: #8B0000 !important;
        }

        /* Navigation Button Container */
        .nav-container {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        .nav-btn {
            background-color: #008080; /* Teal for navigation */
            color: white;
            padding: 10px 15px;
            border: 2px solid #004d4d;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .nav-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            border-color: #999;
        }
        .nav-btn:hover:not(:disabled) {
            background-color: #006666;
        }
        
        /* Final Score and Restart */
        #result {
            font-size: 1.6em;
            margin-top: 30px;
            color: #4B5320;
            font-weight: bold;
        }
        #restart-btn {
            margin-top: 25px;
            background-color: #FF8C00;
            color: white;
            padding: 12px 25px;
            border: 2px solid #CC7000;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: pointer;
            display: none;
            transition: background-color 0.2s;
        }
        #restart-btn:hover {
            background-color: #E57900;
        }
    </style>
</head>
<body>

    <div class="quiz-container" id="welcome-screen">
        <h1>ðŸ¦– Welcome to the Ultimate Dino Quiz! ðŸ¦•</h1>
        <p style="font-size: 1.2em; color: #4B5320; margin: 20px 0;">
            Test your knowledge of the Mesozoic Era with 4 challenging questions.
        </p>
        <button id="start-game-btn" onclick="showQuiz()" 
            style="margin-top: 30px; background-color: #FF8C00; color: white; padding: 15px 30px; 
                   border: 2px solid #CC7000; border-radius: 5px; font-size: 1.5em; cursor: pointer;
                   transition: background-color 0.2s;">
            Begin the Jurassic Adventure!
        </button>
    </div>

    <div class="quiz-container" id="main-quiz" style="display: none;">
        <h1>ðŸ¦• Ultimate Dino Quiz ðŸ¦–</h1>
        
        <p id="question-counter">Question 1/4</p>
        <p id="question-text">Question will appear here.</p>
        
        <div class="options-container" id="options-container">
        </div>

        <div id="result">Score: 0</div>
        
        <div class="nav-container">
            <button class="nav-btn" id="prev-btn" onclick="navigateQuestion(-1)">Previous</button>
            <button class="nav-btn" id="next-btn" onclick="navigateQuestion(1)">Next</button>
        </div>
        
        <button id="restart-btn" onclick="startQuiz()">Explore Again!</button>
    </div>

    <script>
        // JAVASCRIPT LOGIC

        // 1. QUIZ DATA
        const quizData = [
            {
                question: "1. What diet did the Tyrannosaurus Rex primarily have?",
                options: ["Herbivore", "Omnivore", "Carnivore", "Piscivore"],
                answer: "Carnivore"
            },
            {
                question: "2. Which geological period is known as the 'Age of Reptiles'?",
                options: ["Paleozoic", "Mesozoic", "Cenozoic", "Precambrian"],
                answer: "Mesozoic"
            },
            {
                question: "3. How many horns did the Triceratops have?",
                options: ["One", "Two", "Three", "Four"],
                answer: "Three"
            },
            {
                question: "4. The Brachiosaurus was famous for its exceptionally long...",
                options: ["Tail", "Claws", "Neck", "Spikes"],
                answer: "Neck"
            }
        ];

        // 2. STATE VARIABLES
        let userAnswers = []; 
        let currentQuestionIndex = 0;
        let score = 0;

        // 3. DOM ELEMENT REFERENCES
        const welcomeScreen = document.getElementById('welcome-screen');
        const mainQuiz = document.getElementById('main-quiz');
        const questionCounterEl = document.getElementById('question-counter');
        const questionEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const resultEl = document.getElementById('result');
        const restartBtn = document.getElementById('restart-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const navContainer = document.querySelector('.nav-container');


        // 4. NAVIGATION FUNCTIONS
        
        // Function to switch from Welcome Screen to Quiz with a Loading Delay
        function showQuiz() {
            // 1. Hide the welcome screen and show the main quiz container
            welcomeScreen.style.display = 'none';
            mainQuiz.style.display = 'block';

            // 2. Set the content to the "Loading" state
            questionCounterEl.textContent = 'Preparing Expedition...';
            questionEl.textContent = "ðŸ¦• Fetching Live Questions â³";
            optionsContainer.innerHTML = ''; 
            resultEl.style.display = 'none'; // Hide score during loading
            navContainer.style.display = 'none'; // Hide buttons during loading

            // 3. Use setTimeout to wait for 4000 milliseconds (4 seconds)
            const loadingTime = 4000; // 4 seconds
            
            setTimeout(() => {
                // After the delay, restore content visibility and start the quiz
                resultEl.style.display = 'block';
                navContainer.style.display = 'flex';
                startQuiz(); // Initialize and load the first question
            }, loadingTime);
        }
        
        // Load the current question onto the page
        function loadQuestion() {
            // Check if we've reached the end of the quiz
            if (currentQuestionIndex >= quizData.length) {
                showResults();
                return;
            }
            
            const currentQuiz = quizData[currentQuestionIndex];
            
            // Update Counter and Question Text
            questionCounterEl.textContent = `Question ${currentQuestionIndex + 1} / ${quizData.length}`;
            questionEl.textContent = currentQuiz.question;
            optionsContainer.innerHTML = ''; 
            resultEl.textContent = `Score: ${score}`;

            // Create buttons and apply saved answer (if it exists)
            const savedAnswer = userAnswers[currentQuestionIndex];

            currentQuiz.options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('option-btn');
                button.textContent = option;
                
                // Apply the 'selected' class to the saved answer
                if (savedAnswer && savedAnswer === option) {
                    button.classList.add('selected');
                }

                // Attach answer checking function
                button.onclick = () => checkAnswer(option, button, currentQuiz.answer);
                optionsContainer.appendChild(button);
            });
            
            // Manage Navigation Button disabled state
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = (currentQuestionIndex === quizData.length - 1) ? "Submit Quiz" : "Next";
        }

        // Moves to the next or previous question
        function navigateQuestion(direction) {
            if (direction === 1 && currentQuestionIndex === quizData.length - 1) {
                // Submit action on the last question
                setTimeout(() => {
                    currentQuestionIndex += direction;
                    loadQuestion();
                }, 500);
            } else {
                // Instant navigation
                currentQuestionIndex += direction;
                loadQuestion();
            }
        }


        // 5. ANSWER & SCORING FUNCTIONS
        
        // Saves the selected answer and updates the score display
        function checkAnswer(selectedOption, button) {
            // Clear previous selected visual state from all buttons
            Array.from(optionsContainer.children).forEach(btn => {
                btn.classList.remove('selected');
            });

            // Save the user's answer and visually mark it
            userAnswers[currentQuestionIndex] = selectedOption;
            button.classList.add('selected');
            
            // Re-calculate score immediately after the answer changes
            calculateScore();
        }
        
        // Calculate the total score based on all saved answers
        function calculateScore() {
            let newScore = 0;
            quizData.forEach((quiz, index) => {
                if (userAnswers[index] === quiz.answer) {
                    newScore++;
                }
            });
            score = newScore;
            resultEl.textContent = `Score: ${score}`;
        }


        // 6. END GAME / RESTART FUNCTIONS
        
        // Displays the final results screen
        function showResults() {
            calculateScore();
            
            questionEl.textContent = "Adventure Complete!";
            optionsContainer.innerHTML = ''; 
            questionCounterEl.textContent = 'Results';

            resultEl.innerHTML = `Your Final Score is: <strong>${score} out of ${quizData.length}</strong>!`;
            
            // Hide navigation, show restart
            navContainer.style.display = 'none';
            restartBtn.style.display = 'block';
        }

        // Initializes the quiz state for a new game or restart
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = Array(quizData.length).fill(null); // Reset user answers
            loadQuestion();
            calculateScore();
            
            // Ensure visibility for restart
            welcomeScreen.style.display = 'none';
            mainQuiz.style.display = 'block';
            restartBtn.style.display = 'none';
            navContainer.style.display = 'flex';
            resultEl.style.display = 'block';
        }

        // Note: No initial call to startQuiz() is needed. The quiz starts when the user clicks the button.
    </script>

</body>
</html>
